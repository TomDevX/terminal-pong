#!/bin/bash
# ğŸ“ Ultra Compact Terminal Pong - One File Game
# curl -L bit.ly/terminal-pong | bash

clear;W=40;H=18;X=20;Y=9;DX=1;DY=1;P1=7;P2=7;S1=0;S2=0;F=0;SP=1;C=0;A=1;stty -echo -icanon time 0 min 0;trap 'stty echo icanon;clear' EXIT;echo "ğŸ“ Terminal Pong - Press Q to quit, W/S to move";sleep 1;while [[ $S1 -lt 5 && $S2 -lt 5 ]];do printf '\033[HğŸ§  HUMAN vs BOT | Score: %d-%d | Speed: %dx\n' $S1 $S2 $SP;for((i=0;i<$H;i++));do printf '|';for((j=0;j<$W;j++));do if [[ $i -eq $Y && $j -eq $X ]];then printf 'O';elif [[ $j -eq 2 && $i -ge $P1 && $i -lt $((P1+4)) ]];then printf '#';elif [[ $j -eq $((W-3)) && $i -ge $P2 && $i -lt $((P2+4)) ]];then printf '#';else printf ' ';fi;done;printf '|\n';done;read -n1 -t 0.001 K 2>/dev/null;case $K in q)break;;w)[[ $P1 -gt 0 ]]&&((P1--));;s)[[ $P1 -lt $((H-4)) ]]&&((P1++));;esac;((X+=DX,Y+=DY));[[ $Y -le 0||$Y -ge $((H-1)) ]]&&DY=$((DY*-1));[[ $X -eq 3&&$Y -ge $P1&&$Y -lt $((P1+4))&&$DX -lt 0 ]]&&{DX=1;((C++));[[ $((C%3)) -eq 0&&$SP -lt 5 ]]&&((SP++));};[[ $X -eq $((W-4))&&$Y -ge $P2&&$Y -lt $((P2+4))&&$DX -gt 0 ]]&&{DX=-1;((C++));[[ $((C%3)) -eq 0&&$SP -lt 5 ]]&&((SP++));};[[ $Y -lt $((P2+2))&&$P2 -gt 0 ]]&&((P2--));[[ $Y -gt $((P2+2))&&$P2 -lt $((H-4)) ]]&&((P2++));[[ $X -le 0 ]]&&{((S2++));X=$((W/2));Y=$((H/2));DX=1;SP=1;C=0;};[[ $X -ge $((W-1)) ]]&&{((S1++));X=$((W/2));Y=$((H/2));DX=-1;SP=1;C=0;};case $SP in 1)sleep 0.14;;2)sleep 0.11;;3)sleep 0.08;;4)sleep 0.055;;*)sleep 0.035;;esac;done;printf '\nğŸ† GAME OVER! Final: %d-%d\n' $S1 $S2;[[ $S1 -gt $S2 ]]&&echo "ğŸ‰ You Win!"||echo "ğŸ¤– Bot Wins!"
